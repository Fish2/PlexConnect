function loadMenuPage(e){navbarCurrentItemId=e.navigationItemId,log("loadMenuPage: itemid="+navbarCurrentItemId);var t=document.getElementById(navbarCurrentItemId),n=t.getElementByTagName("url").textContent;-1!=n.indexOf("{{URL(/)}}")&&(n=n+"&PlexConnectUDID="+atv.device.udid);var a=new XMLHttpRequest;a.onreadystatechange=function(){try{4==a.readyState&&(doc=a.responseXML,e?e.success(doc):atv.loadXML(doc))}catch(e){a.abort()}},a.open("GET",n,!0),a.send()}function reloadNavbar(e){if(log("reloadNavbar: itemid="+navbarCurrentItemId),"Settings"==navbarCurrentItemId){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4==t.readyState){for(var n=t.responseXML,a=document.rootElement.getElementsByTagName("navigationItem"),r=n.rootElement.getElementsByTagName("navigationItem"),o=a.length!=r.length,d=0;!o&&d<a.length;)o=a[d].getAttribute("id")!=r[d].getAttribute("id"),d++;if(o){var l=n.rootElement.getElementByTagName("navigation"),i=(r.length-1).toString();l.setAttribute("currentIndex",i),log("reloadNavbar done: Settings changed - reload"),atv.loadAndSwapXML(n)}else log("reloadNavbar done: Settings unchanged - no action"),e.cancel()}};var n="{{URL(/PlexConnect.xml)}}&PlexConnectUDID="+atv.device.udid;t.open("GET",n,!1),t.send()}else log("reloadNavbar done: itemId="+navbarCurrentItemId+" - no action"),e.cancel()}var navbarCurrentItemId=null;