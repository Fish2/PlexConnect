function onSelectPhoto(t){var e=createArray(t);loadFSBrowser(e.photoDicts,e.initialSelection)}function createArray(t){for(var e=0,o=[],a=document.evaluateXPath("//photo"),n=0;n<a.length;++n){var i=a[n];if("false"==i.getElementByTagName("stash").getElementByTagName("directory").textContent){var r=(i.tagName,i.getElementsByTagName("photoAsset"));photoDict={},photoDict.id=i.getAttribute("id"),photoDict.type="photo",photoDict.assets=[];for(var h=0;h<r.length;++h){var s=r[h],l={width:parseInt(s.getAttribute("width")),height:parseInt(s.getAttribute("height")),src:i.getElementByTagName("stash").getElementByTagName("url").textContent};photoDict.assets.push(l)}photoDict.id==t&&(e=o.length),o.push(photoDict)}}return{photoDicts:o,initialSelection:e}}function loadFSBrowser(t,e){(new atv.FullScreenMediaBrowser).show(t,e)}function onSlideShow(){var t=createArray(0);atv.slideShow.run(t.initialSelection,t.photoDicts)}function onSettings(){var t=createArray(0);atv.slideShow.showSettings(t.photoDicts)}atv.Element&&(atv.Element.prototype.getElementsByTagName=function(t){return this.ownerDocument.evaluateXPath("descendant::"+t,this)},atv.Element.prototype.getElementByTagName=function(t){var e=this.getElementsByTagName(t);if(e&&e.length>0)return e[0]});