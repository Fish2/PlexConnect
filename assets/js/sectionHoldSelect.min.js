function sectionHoldSelect(e,t,n,a,i){log("sectionHoldSelect");var o=atv.device.softwareVersion.split(".");if((o=parseFloat(o[0]+"."+o[1]))<6)atv.loadURL(t);else{var s=" <atv>   <body>     <popUpMenu id='context_menu'>       <sections>         <menuSection>           <items>             <oneLineMenuItem id=\"item2\" onSelect=\"atv.loadURL('"+t+"')\">               <label>{{TEXT(Search)}} '"+n+'\'</label>             </oneLineMenuItem>             <oneLineMenuItem id="item3" onSelect="refreshSection(\''+e+"', '"+a+"')\">               <label>{{TEXT(Refresh)}} '"+i+"'</label>             </oneLineMenuItem>           </items>         </menuSection>       </sections>     </popUpMenu>   </body> </atv> ",m=atv.parseXML(s);atv.contextMenu.load(m)}}function refreshSection(e,t){setLabel=function(e,t,n){e.getElementByTagName(t)||(elem_add=document.makeElementNamed(t),e.appendChild(elem_add)),e.getElementByTagName(t).textContent=n},showPict=function(e,t){var n;e.getElementByTagName("accessories")||(n=document.makeElementNamed("accessories"),e.appendChild(n)),n=document.makeElementNamed(t),e.getElementByTagName("accessories").appendChild(n)},hidePict=function(e,t){var n=e.getElementByTagName("accessories").getElementByTagName(t);n&&n.removeFromParent()},checkRefresh=function(){var e=refreshSectionTimer.shift(),t=refreshSectionElem.shift();atv.clearInterval(e),"oneLineMenuItem"==t.tagName||"twoLineEnhancedMenuItem"==t.tagName?(setLabel(t,"rightLabel",""),hidePict(t,"spinner")):"squarePoster"==t.tagName&&setLabel(t,"subtitle","")};var n=document.getElementById(e);if(n){"oneLineMenuItem"==n.tagName||"twoLineEnhancedMenuItem"==n.tagName?(setLabel(n,"rightLabel","{{TEXT(refreshing)}}"),showPict(n,"spinner")):"squarePoster"==n.tagName?setLabel(n,"subtitle","<{{TEXT(refreshing)}}>"):log("refreshSection() - unknown element "+n.tagName),refreshSectionElem.push(n),refreshSectionTimer.push(atv.setInterval(checkRefresh,1e4));var a=new XMLHttpRequest;a.open("PUT",t,!1),a.send()}}var refreshSectionElem=[],refreshSectionTimer=[];